---
title: 'Learning c language (2): files operations'
date: 2026-02-14 21:09:47
tags: [c]
type: [学习, c语言]
---
# 一. 文件指针

1. 被使用的文件会在内存开辟一个相应的信息区存放文件信息，保存在一个结构体变量中 `FILE* pf`  

2. `FILE* fopen(const char* filename, const char* mode)`文件打开;<mark>失败则返回NULL

| mode                                                                                                                     |
|--------------------------------------------------------------------------------------------------------------------------|
 | “r”&ensp;  	阅读：打开输入作文件。文件必须存在。                                                                                           |
| “w” &ensp;	 写道：为输出作创建一个空文件。如果已有同名文件存在，其内容被丢弃，该文件被视为新的空文件。                                                                |
| “a” &ensp; 	附言：在文件结尾打开文件进行输出。输出作总是在文件末尾写入数据，进行扩展。重新定位作（fseek、fsetpos、rewind）被忽略。如果文件不存在，则该文件被创建。                         |
| “r+” &ensp;  阅读/更新：打开一个文件进行更新（包括输入和输出）。文件必须存在。                                                                           |
| “w+”	&ensp;  写作/更新：创建一个空文件并打开进行更新（包括输入和输出）。如果已有同名文件存在，其内容会被丢弃，该文件被视为新的空文件。                                               |
| “a+”	&ensp;  补充/更新：打开一个文件进行更新（包括输入和输出），所有输出作都写入文件末尾。重新定位作（fseek、fsetpos、rewind）会影响下一个输入作，但输出作会将位置移回文件末尾。如果文件不存在，则该文件被创建。 |

3. `int fclose(FILE* stream)` 关闭文件；<mark>记得置空</mark>

